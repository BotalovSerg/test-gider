## Техническое задание для Junior Python разработчика от компании Guider.pro

- Боталов Сергей;
- Название задания: Тестовое задание Python;
- Создать сервис, который обрабатывает и отвечает на HTTP запросы.

### **Требования к функционалу:**

1. В случае успешной обработки запросов сервис должен возвращать статус 200, при
возникновении ошибки - статус 400;
2. Все данные должны сохраняться в базе данных.

### **Запросы:**

- GET /city/ — получение списка всех городов из базы данных;
- GET /city/{city_id}/street/ — получение списка всех улиц указанного города
(city_id — идентификатор города);
- POST /shop/ — создание нового магазина. Запрос должен содержать JSON объект с
данными магазина, в ответ возвращается id созданного магазина;
- GET /shop/?street=&city=&open=0/1 - получение списка магазинов.

1. Метод принимает параметры для фильтрации. Все параметры необязательные. Если
параметры не указаны, возвращаются все магазины. При наличии хотя бы одного
параметра выполняется фильтрация по нему.
2. В ответе для каждого магазина должно быть указано название города и улицы, а не их идентификаторы.
3. Параметр open: 0 - закрыт, 1 - открыт. Статус определяется на основе параметров
"Время открытия", "Время закрытия" и текущего времени сервера.

### Инструкции по установке и настройке проекта для успешного запуска;
1. Скачать репозиторий
2. Установить зависимости из файла requirements.txt
```
pip install -r requirements.txt
```
3. Запустить docker-compose.yml, с базой данных
```
docker compose up -d
```
4. Перейти в папку проекта и выполнить миграции для базы данных
```
cd guider/
python manage.py makemigrations
pythom manege.py migrate
```
5. Заполнить базу данных, начальными данными о городах и улицах в них
```
python3 manage.py loaddata db.json
```
### Данные для доступа к базе данных описаны в файле .env.docker;
- в файле .env.docker находятся переменные окружения, для запуска PostgresSQL 
- Суперюзер создан и загружаеться при заполнении БД
- Дополнительно можно создать суперюзера командой 
```
python maneg.py createsuperuser
```
 
### Описание процесса запуска проекта.
1. Запустить приложение командой
```
python manage.py runserver
```
2. Перейти по адресу http://127.0.0.1:8000/api/city/
3. Для тестов API можно использовать коллекцию Postman https://documenter.getpostman.com/view/21372244/2sA3kUFgm5